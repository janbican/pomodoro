(function(e){function t(t){for(var o,a,r=t[0],u=t[1],l=t[2],d=0,m=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},s=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/pomodoro/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},1057:function(e,t,n){"use strict";var o=n("1d5e"),i=n.n(o);i.a},"1d5e":function(e,t,n){},"343b":function(e,t,n){},"546e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("6d4a");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app full-screen-div",class:{finished:e.isFinished}},[n("vue-headful",{attrs:{title:e.title}}),n("a",{staticClass:"settings-icon",on:{click:e.showSettings}},[n("font-awesome-icon",{attrs:{icon:"sliders-h"}})],1),n("settings-modal"),n("div",{staticClass:"container"},[n("pomodoro-timer")],1)],1)},s=[],a=n("5530"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-modal"},[n("modal",{attrs:{name:"modal",adaptive:!0,"max-width":400,"min-height":330}},[n("div",{staticClass:"modal-container"},[n("h3",[e._v("Settings")]),n("hr"),n("div",{staticClass:"time-settings-container"},[n("div",{staticClass:"time-settings"},[n("label",{attrs:{for:"pomodoro"}},[e._v("Pomodoro")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pomodoroValue,expression:"pomodoroValue",modifiers:{number:!0}}],attrs:{type:"number",id:"pomodoro",name:"pomodoro",min:"1",max:"99"},domProps:{value:e.pomodoroValue},on:{input:function(t){t.target.composing||(e.pomodoroValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"time-settings"},[n("label",{attrs:{for:"shortBreak"}},[e._v("Short Break")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.shortBreakValue,expression:"shortBreakValue",modifiers:{number:!0}}],attrs:{type:"number",id:"shortBreak",name:"shortBreak",min:"1",max:"99"},domProps:{value:e.shortBreakValue},on:{input:function(t){t.target.composing||(e.shortBreakValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"time-settings"},[n("label",{attrs:{for:"longBreak"}},[e._v("Long Break")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.longBreakValue,expression:"longBreakValue",modifiers:{number:!0}}],attrs:{type:"number",id:"longBreak",name:"longBreak",min:"1",max:"99"},domProps:{value:e.longBreakValue},on:{input:function(t){t.target.composing||(e.longBreakValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",{staticClass:"volume-container"},[n("label",{attrs:{for:"volume"}},[e._v("Volume")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.volumeValue,expression:"volumeValue",modifiers:{number:!0}}],staticClass:"volume-slider",attrs:{type:"range",min:"0",max:"100",id:"volume"},domProps:{value:e.volumeValue},on:{__r:function(t){e.volumeValue=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"title-container"},[n("label",[e._v("Show time in title "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.isTimeShownInTitleValue,expression:"isTimeShownInTitleValue"}],attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(e.isTimeShownInTitleValue)?e._i(e.isTimeShownInTitleValue,null)>-1:e.isTimeShownInTitleValue},on:{change:function(t){var n=e.isTimeShownInTitleValue,o=t.target,i=!!o.checked;if(Array.isArray(n)){var s=null,a=e._i(n,s);o.checked?a<0&&(e.isTimeShownInTitleValue=n.concat([s])):a>-1&&(e.isTimeShownInTitleValue=n.slice(0,a).concat(n.slice(a+1)))}else e.isTimeShownInTitleValue=i}}}),n("span",{staticClass:"checkmark"})])]),n("hr"),n("div",{staticClass:"button-container"},[n("button",{staticClass:"btn",on:{click:e.save}},[e._v("Save")]),n("button",{staticClass:"btn",on:{click:e.cancel}},[e._v("Cancel")])])])])],1)},u=[],l=n("2f62"),c={name:"SettingsModal",data:function(){return{pomodoroValue:null,shortBreakValue:null,longBreakValue:null,volumeValue:null,isTimeShownInTitleValue:null}},created:function(){this.loadActualSettings()},methods:{loadActualSettings:function(){this.pomodoroValue=this.pomodoroMinutes,this.shortBreakValue=this.shortBreakMinutes,this.longBreakValue=this.longBreakMinutes,this.volumeValue=100*this.volume,this.isTimeShownInTitleValue=this.isTimeShownInTitle},save:function(){if(this.areSettingsValid()){var e={pomodoroMinutes:this.pomodoroValue,shortBreakMinutes:this.shortBreakValue,longBreakMinutes:this.longBreakValue,volume:this.volumeValue/100,isTimeShownInTitle:this.isTimeShownInTitleValue};this.$store.commit("applySettings",e),this.$modal.hide("modal")}},cancel:function(){this.loadActualSettings(),this.$modal.hide("modal")},areSettingsValid:function(){return this.isMinuteValueValid(this.pomodoroValue)&&this.isMinuteValueValid(this.shortBreakValue)&&this.isMinuteValueValid(this.longBreakValue)},isMinuteValueValid:function(e){return""!=e&&e>0}},computed:Object(a["a"])(Object(a["a"])({},Object(l["b"])(["pomodoroMinutes","shortBreakMinutes","longBreakMinutes"])),Object(l["d"])(["volume","isTimeShownInTitle"]))},d=c,m=(n("e5d2"),n("2877")),h=Object(m["a"])(d,r,u,!1,null,"3987d348",null),f=h.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pomodoro-timer",style:e.backgroundStyle},[n("progress-bar"),n("mode-choice",{on:{change:e.modeChange}}),n("time-display"),n("div",{staticClass:"button-group"},[e.isFinished?n("button",{staticClass:"btn reset-btn",on:{click:e.reset}},[e._v(" Reset ")]):e.isRunning?n("button",{staticClass:"btn",on:{click:e.stop}},[e._v(" Stop ")]):n("button",{staticClass:"btn",on:{click:e.start}},[e._v(" Start ")])])],1)},v=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"choice-container"},e._l(e.modes,(function(t){return n("button",{key:t.text,staticClass:"choice-btn",class:{selected:t===e.selectedMode},on:{click:function(n){return e.click(t)}}},[e._v(" "+e._s(t.text)+" ")])})),0)},g=[],k={name:"ModeChoice",methods:{click:function(e){this.$emit("change",e)}},computed:Object(l["d"])(["modes","selectedMode"])},S=k,V=(n("827f"),Object(m["a"])(S,b,g,!1,null,"24be38fc",null)),w=V.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"bar",style:e.barStyle})])},y=[],_={name:"ProgressBar",computed:Object(a["a"])(Object(a["a"])({},Object(l["b"])(["doneInPercents"])),{},{barStyle:function(){return{width:"".concat(this.doneInPercents,"%")}}})},O=_,M=(n("ca51"),Object(m["a"])(O,T,y,!1,null,"77c2ad21",null)),j=M.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-display"},[n("span",[e._v(e._s(e.secondsStringFormat))])])},C=[],I={name:"TimeDisplay",computed:Object(a["a"])({},Object(l["b"])(["secondsStringFormat"]))},x=I,P=(n("1057"),Object(m["a"])(x,B,C,!1,null,"22e94993",null)),$=P.exports;function F(){N()&&"default"===Notification.permission&&Notification.requestPermission()}function R(e){N()&&"granted"===Notification.permission&&A(e)}function N(){return"Notification"in window}function A(e){new Notification("Pomodoro",{body:e})}var E={name:"PomodoroTimer",components:{"mode-choice":w,"progress-bar":j,"time-display":$},data:function(){return{timer:null,audio:new Audio("http://soundbible.com/mp3/Elevator Ding-SoundBible.com-685385892.mp3")}},created:function(){this.audio.volume=0,this.audio.play()},methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])(["decrementSeconds","setIsRunning","setMode"])),{},{start:function(){var e=this;this.timer=setInterval((function(){e.decrementSeconds(),e.isFinished&&e.finished()}),1e3),this.setIsRunning(!0)},finished:function(){this.stop(),this.playSound(),R("done")},stop:function(){clearInterval(this.timer),this.setIsRunning(!1)},playSound:function(){this.audio.volume=this.volume,this.audio.play()},reset:function(){this.setMode(this.selectedMode)},modeChange:function(e){this.stop(),this.setMode(e),this.start()}}),computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(l["d"])(["seconds","selectedMode","volume","isRunning"])),Object(l["b"])(["isFinished","secondsStringFormat"])),{},{backgroundStyle:function(){return{backgroundColor:this.isFinished?"#3eb6ba":"#ff6e67"}}})},U=E,D=(n("d9aa"),Object(m["a"])(U,p,v,!1,null,"853f01ca",null)),J=D.exports,L={name:"App",components:{"settings-modal":f,"pomodoro-timer":J},methods:{showSettings:function(){this.$modal.show("modal")}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(l["b"])(["isFinished","secondsStringFormat"])),Object(l["d"])(["isRunning","isTimeShownInTitle"])),{},{title:function(){return this.isRunning&&this.isTimeShownInTitle?this.secondsStringFormat:"Pomodoro"}})},q=L,z=(n("034f"),Object(m["a"])(q,i,s,!1,null,null,null)),G=z.exports,H=(n("99af"),n("fb6a"),n("0e44"));o["a"].use(l["a"]);var K=new l["a"].Store({state:{modes:[{text:"Pomodoro",minutes:25},{text:"Short Break",minutes:5},{text:"Long Break",minutes:10}],selectedMode:null,seconds:0,volume:.5,isRunning:!1,isTimeShownInTitle:!0},plugins:[Object(H["a"])({paths:["modes","volume","isTimeShownInTitle"]})],getters:{isFinished:function(e){return 0===e.seconds},secondsStringFormat:function(e){var t=e.seconds%60,n=Math.floor(e.seconds/60);return"".concat(("0"+n).slice(-2),":").concat(("0"+t).slice(-2))},doneInPercents:function(e){return 100-e.seconds/(60*e.selectedMode.minutes)*100},pomodoroMinutes:function(e){return e.modes[0].minutes},shortBreakMinutes:function(e){return e.modes[1].minutes},longBreakMinutes:function(e){return e.modes[2].minutes}},mutations:{decrementSeconds:function(e){e.seconds-=1},setMode:function(e,t){e.selectedMode=t,e.seconds=60*t.minutes},setIsRunning:function(e,t){e.isRunning=t},applySettings:function(e,t){e.modes[0].minutes=t.pomodoroMinutes,e.modes[1].minutes=t.shortBreakMinutes,e.modes[2].minutes=t.longBreakMinutes,e.volume=t.volume,e.isTimeShownInTitle=t.isTimeShownInTitle,e.isRunning||(e.seconds=60*e.selectedMode.minutes)}}});K.state.selectedMode=K.state.modes[0],K.state.seconds=60*K.state.selectedMode.minutes;var Q=n("1881"),W=n.n(Q),X=n("ecee"),Y=n("c074"),Z=n("ad3d"),ee=n("ec02"),te=n.n(ee);o["a"].use(W.a),X["c"].add(Y["a"]),o["a"].component("font-awesome-icon",Z["a"]),o["a"].component("vue-headful",te.a),F(),o["a"].config.productionTip=!1,new o["a"]({store:K,render:function(e){return e(G)}}).$mount("#app")},"7a8f":function(e,t,n){},"827f":function(e,t,n){"use strict";var o=n("546e"),i=n.n(o);i.a},"85ec":function(e,t,n){},a549:function(e,t,n){},ca51:function(e,t,n){"use strict";var o=n("343b"),i=n.n(o);i.a},d9aa:function(e,t,n){"use strict";var o=n("7a8f"),i=n.n(o);i.a},e5d2:function(e,t,n){"use strict";var o=n("a549"),i=n.n(o);i.a}});
//# sourceMappingURL=app.bf4760fd.js.map